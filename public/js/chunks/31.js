(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{276:function(t,e,o){"use strict";o.r(e);var i=o(3),n=o(9),r={components:{Datepicker:function(){return o.e(0).then(o.bind(null,274))}},data:function(){return{submitted:!1,date_invalid:!1,phone_error:!1,nok_phone:"",form:{}}},validations:{form:{nok_full_name:{required:i.required},nok_email:{required:i.required,email:i.email},nok_phone:{required:i.required},nok_street:{required:i.required},nok_city:{required:i.required},nok_country:{required:i.required}}},methods:{handelNOK:function(){return this.submitted=!0,this.$v.$touch(),this.$v.$invalid||this.date_invalid?(this.validPhone(this.form.nok_phone)||(this.phone_error=!0),this.form.nok_dob||(this.date_invalid=!0),void this.scrollErrorToView()):this.validPhone(this.form.nok_phone)?!this.form.nok_dob||this.date_invalid?(this.date_invalid=!0,void this.scrollErrorToView()):void this.$emit("done",this.form):(this.phone_error=!0,void this.scrollErrorToView())},checkDateValidity:function(t){var e=moment().subtract(16,"years");moment(t).isAfter(e)?this.date_invalid=!0:this.date_invalid=!1},validPhone:function(t){if(!t)return!1;var e=Object(n.b)(t);return!!e&&(e&&e.isValid())},scrollErrorToView:function(){setTimeout((function(){var t=$(".is-invalid").first();$(t).focus()}),100)}},watch:{nok_phone:function(t){var e=this;this.form.nok_phone=t,this.phone_locked||(this.phone_locked=!0,setTimeout((function(){return e.phone_locked=!1}),10),this.nok_phone=(new n.a).input(t),this.validPhone(t)&&(this.phone_error=!1))}}},a=o(1),s=Object(a.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h6",[t._v("Enter Full name as it appears on their national ID")]),t._v(" "),o("form",{on:{submit:function(e){return e.preventDefault(),t.handelNOK()}}},[o("div",{staticClass:"row"},[t._m(0),t._v(" "),o("div",{staticClass:"col-12 col-lg-6"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.nok_full_name,expression:"form.nok_full_name"}],staticClass:"form-control mb-30 bg-gray",class:{"is-invalid":t.submitted&&t.$v.form.nok_full_name.$error},attrs:{type:"text",name:"nok_full_name",id:"nok_full_name",placeholder:"Full Name"},domProps:{value:t.form.nok_full_name},on:{input:function(e){e.target.composing||t.$set(t.form,"nok_full_name",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"col-12 col-lg-6"},[o("datepicker",{attrs:{format:"dd MMMM yyyy",initialView:"year",name:"nok_dob",placeholder:"Date of Birth","input-class":t.date_invalid?"form-control is-invalid":"mb-30 form-control"},on:{selected:function(e){return t.checkDateValidity(e)}},model:{value:t.form.nok_dob,callback:function(e){t.$set(t.form,"nok_dob",e)},expression:"form.nok_dob"}}),t._v(" "),t.date_invalid&&!t.form.nok_dob?o("div",{staticClass:"mb-30"}):t._e(),t._v(" "),t.date_invalid&&t.form.nok_dob?o("div",{staticClass:"mb-30 mt-2 invalid-feedback d-block"},[t._v("Next of kin must be 16 years or older")]):t._e()],1)]),t._v(" "),o("div",{staticClass:"row"},[t._m(1),t._v(" "),o("div",{staticClass:"col-12 col-lg-6"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.nok_email,expression:"form.nok_email"}],staticClass:"form-control mb-30 bg-gray",class:{"is-invalid":t.submitted&&t.$v.form.nok_email.$error},attrs:{id:"nok_email",type:"email",placeholder:"Email Address"},domProps:{value:t.form.nok_email},on:{input:function(e){e.target.composing||t.$set(t.form,"nok_email",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"col-12 col-lg-6"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.nok_phone,expression:"nok_phone"}],staticClass:"form-control bg-gray",class:{"is-invalid":t.submitted&&t.phone_error},attrs:{type:"tel",name:"nok_phone",placeholder:"Mobile Number"},domProps:{value:t.nok_phone},on:{input:function(e){e.target.composing||(t.nok_phone=e.target.value)}}}),t._v(" "),t._m(2)])]),t._v(" "),o("div",{staticClass:"row"},[t._m(3),t._v(" "),o("div",{staticClass:"col-12 col-lg-6"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.nok_street,expression:"form.nok_street"}],staticClass:"form-control mb-30 bg-gray",class:{"is-invalid":t.submitted&&t.$v.form.nok_street.$error},attrs:{type:"text",id:"nok_street",name:"nok_street",placeholder:"Address Line 1"},domProps:{value:t.form.nok_street},on:{input:function(e){e.target.composing||t.$set(t.form,"nok_street",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"col-12 col-lg-6"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.nok_apartment,expression:"form.nok_apartment"}],staticClass:"form-control mb-30 bg-gray",attrs:{type:"text",id:"nok_apartment",name:"nok_apartment",placeholder:"Address Line 2"},domProps:{value:t.form.nok_apartment},on:{input:function(e){e.target.composing||t.$set(t.form,"nok_apartment",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"col-12 col-lg-4"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.nok_city,expression:"form.nok_city"}],staticClass:"form-control mb-30 bg-gray",class:{"is-invalid":t.submitted&&t.$v.form.nok_city.$error},attrs:{type:"text",name:"nok_city",placeholder:"City"},domProps:{value:t.form.nok_city},on:{input:function(e){e.target.composing||t.$set(t.form,"nok_city",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"col-12 col-lg-4"},[o("country-select",{staticClass:"custom-select form-control mb-30 bg-gray",class:{"is-invalid":t.submitted&&t.$v.form.nok_country.$error},attrs:{country:t.form.nok_country,countryName:!0,topCountry:"ZW"},model:{value:t.form.nok_country,callback:function(e){t.$set(t.form,"nok_country",e)},expression:"form.nok_country"}})],1),t._v(" "),o("div",{staticClass:"col-12 col-lg-4"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.nok_zip,expression:"form.nok_zip"}],staticClass:"form-control mb-30 bg-gray",attrs:{type:"text",name:"zip",placeholder:"ZIP/Postal code"},domProps:{value:t.form.nok_zip},on:{input:function(e){e.target.composing||t.$set(t.form,"nok_zip",e.target.value)}}})])]),t._v(" "),t._m(4)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-12"},[e("label",{staticClass:"font-weight-bold",attrs:{for:"nok_full_name"}},[this._v("Next of kin's Full name:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-12"},[e("label",{staticClass:"font-weight-bold",attrs:{for:"nok_full_name"}},[this._v("Next of kin's Contact details:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-30 mt-1"},[this._v("\n          With country code\n          "),e("small",[this._v("e.g +44")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-12"},[e("label",{staticClass:"font-weight-bold",attrs:{for:"street"}},[this._v("Next of kin's Physical Address:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 text-right"},[e("button",{staticClass:"btn radix-btn",attrs:{type:"submit"}},[this._v("Next Step")])])])}],!1,null,null,null);e.default=s.exports}}]);